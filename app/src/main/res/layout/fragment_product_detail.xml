<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>
        <variable
            name="vm"
            type="com.example.cartapp.presentation.productdetail.ProductDetailViewModel"/>
    </data>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:background="@color/background_gray"
        tools:context=".presentation.productdetail.ProductDetailFragment">

        <!-- Custom AppBar -->
        <include
            android:id="@+id/customAppBar"
            layout="@layout/view_custom_app_bar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"/>

        <!-- Main Content -->
        <androidx.core.widget.NestedScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fillViewport="true">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <!-- Product Image Section -->
                <androidx.cardview.widget.CardView
                    android:id="@+id/productImageCard"
                    android:layout_width="match_parent"
                    android:layout_height="300dp"
                    android:layout_margin="16dp"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="4dp"
                    app:layout_constraintTop_toTopOf="parent">

                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:layout_width="match_parent"
                        android:layout_height="match_parent">

                        <!-- Product Image -->
                        <ImageView
                            android:id="@+id/ivProductImage"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:scaleType="centerCrop"
                            android:background="@color/background_gray"
                            android:src="@drawable/ic_placeholder"
                            app:layout_constraintTop_toTopOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintBottom_toBottomOf="parent"/>

                        <!-- Favorite Star -->
                        <ImageView
                            android:id="@+id/ivFavorite"
                            android:layout_width="32dp"
                            android:layout_height="32dp"
                            android:src="@drawable/ic_star_filled"
                            android:background="@drawable/favorite_background"
                            android:padding="4dp"
                            app:layout_constraintTop_toTopOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            android:layout_margin="16dp"/>

                    </androidx.constraintlayout.widget.ConstraintLayout>

                </androidx.cardview.widget.CardView>

                <!-- Product Info Section -->
                <androidx.cardview.widget.CardView
                    android:id="@+id/productInfoCard"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="16dp"
                    android:layout_marginTop="8dp"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="2dp"
                    app:cardBackgroundColor="@color/card_background"
                    app:layout_constraintTop_toBottomOf="@id/productImageCard">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">

                        <!-- Product Name -->
                        <TextView
                            android:id="@+id/tvProductName"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Apple iPhone 14 Pro Max 256 GB"
                            android:textColor="@color/text_primary"
                            android:textSize="20sp"
                            android:textStyle="bold"
                            android:layout_marginBottom="12dp"/>

                        <!-- Product Description -->
                        <TextView
                            android:id="@+id/tvProductDescription"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
                            android:textColor="@color/text_secondary"
                            android:textSize="14sp"
                            android:lineSpacingExtra="4dp"/>

                    </LinearLayout>

                </androidx.cardview.widget.CardView>

                <!-- Price and Add to Cart Section -->
                <androidx.cardview.widget.CardView
                    android:id="@+id/priceCard"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="16dp"
                    android:layout_marginTop="8dp"
                    android:layout_marginBottom="80dp"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="2dp"
                    app:cardBackgroundColor="@color/card_background"
                    app:layout_constraintTop_toBottomOf="@id/productInfoCard">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:padding="16dp">

                        <!-- Price Section -->
                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Price:"
                                android:textColor="@color/price_blue"
                                android:textSize="14sp"
                                android:layout_marginBottom="4dp"/>

                            <TextView
                                android:id="@+id/tvPrice"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="124124124 â‚º"
                                android:textColor="@color/text_primary"
                                android:textSize="24sp"
                                android:textStyle="bold"/>

                        </LinearLayout>

                        <!-- Add to Cart Button -->
                        <Button
                            android:id="@+id/btnAddToCart"
                            android:layout_width="wrap_content"
                            android:layout_height="48dp"
                            android:text="Add to Cart"
                            android:textColor="@color/white"
                            android:textSize="16sp"
                            android:textStyle="bold"
                            android:background="@drawable/add_to_cart_button"
                            android:paddingHorizontal="24dp"
                            android:minWidth="120dp"/>

                    </LinearLayout>

                </androidx.cardview.widget.CardView>

            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.core.widget.NestedScrollView>

    </LinearLayout>
</layout>